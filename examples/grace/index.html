<html>
  <head>
    <link href="//fonts.googleapis.com/css?family=Raleway:400,700,300,800" rel="stylesheet" type="text/css">
    <title>Vega Grace Example</title>
    <script src="../lib/d3.v3.min.js"></script>
    <script src="../../vega.js"></script>
    <style>
        body {
            font-family: sans-serif;
            background-color: #555;
        }
    </style>
  </head>
  <body>
    <div><strong>Vega Grace Example</strong></div>
    <div>
      <div id="view" class="view"></div>
    </div>
    <object type="image/svg+xml" data="headless.svg" width="700" height="525"></object>
  </body>
  <script type="text/javascript">
      vg.config.autopadInset = 40;
var spec = {
    "width": 700,
    "height": 525,
    "data": [
        {
            "name": "series1",
            "values": [
                {"value": 0.0000958331651253, "Year": "1990", "Petrol Type": "Regular Cats"},
                {"value": 0.0000962753077309, "Year": "1990", "Petrol Type": "Premium Cats"},
                {"value": 0.0000946261912829, "Year": "1991", "Petrol Type": "Regular Cats"},
                {"value": 0.0000997951947425, "Year": "1991", "Petrol Type": "Premium Cats"},
                {"value": 0.0000966533157408, "Year": "1992", "Petrol Type": "Regular Cats"},
                {"value": 0.000100607268107, "Year": "1992", "Petrol Type": "Premium Cats"},
                {"value": 0.0000952435730089, "Year": "1993", "Petrol Type": "Regular Cats"},
                {"value": 0.0000998796898774, "Year": "1993", "Petrol Type": "Premium Cats"},
                {"value": 0.00009001192183329999, "Year": "1994", "Petrol Type": "Regular Cats"},
                {"value": 0.0000949528886388, "Year": "1994", "Petrol Type": "Premium Cats"},
                {"value": 0.0000899615979866, "Year": "1995", "Petrol Type": "Regular Cats"},
                {"value": 0.000095012990688, "Year": "1995", "Petrol Type": "Premium Cats"},
                {"value": 0.00009042685687159999, "Year": "1996", "Petrol Type": "Regular Cats"},
                {"value": 0.00009542646766670001, "Year": "1996", "Petrol Type": "Premium Cats"},
                {"value": 0.0000905844041085, "Year": "1997", "Petrol Type": "Regular Cats"},
                {"value": 0.0000956088823182, "Year": "1997", "Petrol Type": "Premium Cats"},
                {"value": 0.0000848481559657, "Year": "1998", "Petrol Type": "Regular Cats"},
                {"value": 0.0000898516943935, "Year": "1998", "Petrol Type": "Premium Cats"},
                {"value": 0.0000853613678302, "Year": "1999", "Petrol Type": "Regular Cats"},
                {"value": 0.0000901406215656, "Year": "1999", "Petrol Type": "Premium Cats"},
                {"value": 0.00010711420160800001, "Year": "2000", "Petrol Type": "Regular Cats"},
                {"value": 0.000111190161535, "Year": "2000", "Petrol Type": "Premium Cats"},
                {"value": 0.000104520713582, "Year": "2001", "Petrol Type": "Regular Cats"},
                {"value": 0.00010943465504700001, "Year": "2001", "Petrol Type": "Premium Cats"},
                {"value": 0.000102848379072, "Year": "2002", "Petrol Type": "Regular Cats"},
                {"value": 0.000107933591858, "Year": "2002", "Petrol Type": "Premium Cats"},
                {"value": 0.00010503810495800001, "Year": "2003", "Petrol Type": "Regular Cats"},
                {"value": 0.000110471727798, "Year": "2003", "Petrol Type": "Premium Cats"},
                {"value": 0.000116439132004, "Year": "2004", "Petrol Type": "Regular Cats"},
                {"value": 0.00012205998279000001, "Year": "2004", "Petrol Type": "Premium Cats"},
                {"value": 0.000132019494343, "Year": "2005", "Petrol Type": "Regular Cats"},
                {"value": 0.000137477079043, "Year": "2005", "Petrol Type": "Premium Cats"},
                {"value": 0.000154952516999, "Year": "2006", "Petrol Type": "Regular Cats"},
                {"value": 0.00016087164546299998, "Year": "2006", "Petrol Type": "Premium Cats"},
                {"value": 0.000154473900571, "Year": "2007", "Petrol Type": "Regular Cats"},
                {"value": 0.000160347645603, "Year": "2007", "Petrol Type": "Premium Cats"},
                {"value": 0.000180789687731, "Year": "2008", "Petrol Type": "Regular Cats"},
                {"value": 0.000186538998118, "Year": "2008", "Petrol Type": "Premium Cats"},
                {"value": 0.000160296063518, "Year": "2009", "Petrol Type": "Regular Cats"},
                {"value": 0.000167897073924, "Year": "2009", "Petrol Type": "Premium Cats"},
                {"value": 0.000176786408972, "Year": "2010", "Petrol Type": "Regular Cats"},
                {"value": 0.00018540654843900002, "Year": "2010", "Petrol Type": "Premium Cats"},
                {"value": 0.000205804119511, "Year": "2011", "Petrol Type": "Regular Cats"},
                {"value": 0.000215326055524, "Year": "2011", "Petrol Type": "Premium Cats"},
                {"value": 0.000209379428431, "Year": "2012", "Petrol Type": "Regular Cats"},
                {"value": 0.00022025802245700002, "Year": "2012", "Petrol Type": "Premium Cats"},
                {"value": 0.000210313543602, "Year": "2013", "Petrol Type": "Regular Cats"},
                {"value": 0.000221681915436, "Year": "2013", "Petrol Type": "Premium Cats"}
            ]
        }
    ],
    "padding": "strict",
    "background": "#ffffff",
    "border": "#d5d5d5",
    "borderWidth": 1,
    "scales": [
        {
            "name": "group",
            "type": "ordinal",
            "range": ["#f8d38a", "#b6aea8"],
            "domain": {"data": "series1", "field": "data.Petrol Type"}
        }
    ],
    "axes": [],
    "marks": [
        {
            "type": "group",
            "properties": {
                "enter": {
                    "x": {"value": 0},
                    "y": {"value": 0, "offset": 20},
                    "width": {"group": "width"},
                    "height": {"group": "height", "offset": -20}
                }
            },
            "scales": [
                {
                    "name": "x",
                    "type": "ordinal",
                    "range": "width",
                    "padding": 0.2,
                    "domain": {"data": "series1", "field": "data.Year"},
                    "points": true
                }, {
                    "name": "y",
                    "type": "linear",
                    "range": "height",
                    "nice": true,
                    "domain": {"data": "series1", "field": "data.value"}
                }
            ],
            "axes": [
                {
                    "type": "x",
                    "scale": "x",
                    "tickSizeMajor": 8,
                    "tickSizeEnd": 0,
                    "tickPadding": 4,
                    "ticks": 5,
                    "properties": {
                        "majorTicks": {"stroke": {"value": "#6b1e74"}, "strokeWidth": {"value": 1}},
                        "title": {
                            "fontWeight": {"value": "300"},
                            "fontSize": {"value": 16},
                            "font": {"value": "'Raleway','Helvetica Neue',Helvetica,Arial,sans-serif"},
                            "fill": {"value": "#ccc"}
                        },
                        "labels": {
                            "fontSize": {"value": 14},
                            "font": {"value": "'Raleway','Helvetica Neue',Helvetica,Arial,sans-serif"},
                            "fill": {"value": "#555"}
                        },
                        "axis": {"stroke": {"value": "#6b1e74"}, "strokeWidth": {"value": 1}}
                    },
                    "values": ["1990", "1993", "1996", "1999", "2002", "2005", "2008", "2011"],
                    "title": "Year of Cat Birth",
                    "titleOffset": 44
                }, {
                    "type": "y",
                    "scale": "y",
                    "tickPadding": 10,
                    "ticks": 6,
                    "properties": {
                        "axis": {"stroke": {"value": "transparent"}},
                        "labels": {
                            "fontSize": {"value": 14},
                            "font": {"value": "'Raleway','Helvetica Neue',Helvetica,Arial,sans-serif"},
                            "fill": {"value": "#555"}
                        },
                        "title": {
                            "fontWeight": {"value": "300"},
                            "fontSize": {"value": 16},
                            "font": {"value": "'Raleway','Helvetica Neue',Helvetica,Arial,sans-serif"},
                            "fill": {"value": "#ccc"}
                        }
                    },
                    "tickSize": 0,
                    "layer": "back",
                    "grid": true
                }
            ],
            "marks": [
                {
                    "type": "text",
                    "properties": {
                        "enter": {
                            "text": {"value": "Cat prices in New Zealand"},
                            "x": {"value": 40},
                            "y": {"value": -60},
                            "fontSize": {"value": 20},
                            "fontWeight": {"value": 600},
                            "font": {"value": "'Raleway Bold', 'Raleway'"},
                            "align": {"value": "left"},
                            "baseline": {"value": "bottom"},
                            "fill": {"value": "#495456"},
                            "position": {"value": "absolute-x"}
                        }
                    },
                    "name": "title"
                }, {
                    "type": "text",
                    "properties": {
                        "enter": {
                            "text": {"value": "By Type, NZD, 1990-2014"},
                            "x": {"value": 40},
                            "y": {"value": -40},
                            "fontSize": {"value": 16},
                            "fontWeight": {"value": 300},
                            "font": {"value": "'Raleway', 'Raleway'"},
                            "align": {"value": "left"},
                            "baseline": {"value": "bottom"},
                            "fill": {"value": "#ccc"},
                            "position": {"value": "absolute-x"}
                        }
                    },
                    "name": "subtitle"
                }, {
                    "type": "text",
                    "properties": {
                        "enter": {
                            "text": {"value": "Source: Ministry of Business, Innovation, and Employment"},
                            "x": {"value": 40},
                            "y": {"value": -10},
                            "fontSize": {"value": 12},
                            "fontWeight": {"value": 300},
                            "font": {"value": "'Raleway', 'Raleway'"},
                            "align": {"value": "left"},
                            "baseline": {"value": "bottom"},
                            "fill": {"value": "#999"},
                            "position": {"value": "absolute-x"}
                        }
                    },
                    "name": "source"
                }, {
                    "type": "group",
                    "from": {"data": "series1", "transform": [{"type": "facet", "keys": ["data.Petrol Type"]}]},
                    "marks": [
                        {
                            "type": "line",
                            "properties": {
                                "enter": {
                                    "x": {"scale": "x", "field": "data.Year"},
                                    "y": {"scale": "y", "field": "data.value"},
                                    "stroke": {"scale": "group", "field": "data.Petrol Type"},
                                    "strokeWidth": {"value": 2}
                                }
                            }
                        }
                    ]
                }
            ]
        }, {
            "type": "image",
            "name": "badge",
            "properties": {
                "enter": {
                    "position": {"value": "absolute"},
                    "url": {"value": "/badge.png"},
                    "x": {"value": 580},
                    "y": {"value": 0},
                    "width": {"value": 120},
                    "height": {"value": 34}
                }
            }
        }
    ],
    "legends": [
        {
            "fill": "group",
            "offset": 0,
            "properties": {
                "legend": {"x": {"value": 400}, "y": {"value": -40}},
                "labels": {"font": {"value": "'Raleway'"}, "fontSize": {"value": 12}, "fill": {"value": "#999"}},
                "symbols": {"stroke": {"value": "transparent"}, "shape": {"value": "square"}}
            }
        }
    ]
};


vg.parse.spec(spec, function(chart) {
    chart({el: "#view", renderer: "svg"}).update();
});
  </script>
</html>
